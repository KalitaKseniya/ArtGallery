@model List<Painting>
@{
}

<div class="container row p-0 m-0">
    <div class="col-10">
        <h2 class="text-primary">Добро пожаловать на страницу картин</h2>
    </div>
    <div class="col-6">
        <a asp-action="Create" class="btn btn-primary">
            Добавить картину
        </a>
    </div>
</div>
<div class="col-12" border p-3 mt-3>
    <form method="post">
        @if (Model.Count() > 0)
        {
            <table class="table table-striped border">
                <thead>
                    <tr class="table-secondary">
                        <th></th>
                        <th>Название</th>
                        <th>Год</th>
                        <th>Материал</th>
                        <th>Длина</th>
                        <th>Ширина</th>
                        <th>Описание</th>
                        <th>Художник</th>
                        <th>Направления</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var painting in @Model)
                    {
                        <tr>
                            <td>
                                <div class="text-left">
                                    <div class="w-75 btn-group" role="group">
                                        <a asp-route-Id="@painting.Id" asp-action="Edit" class="btn btn-primary mx-2">
                                            Редактировать
                                        </a>
                                        <a asp-route-Id="@painting.Id" asp-action="Delete" onclick="return confirm('Вы уверены, что хотите удалить картину?')" class="btn btn-danger mx-2">
                                            Удалить
                                        </a>
                                    </div>
                                </div>
                            </td>
                            <td>@painting.Name</td>
                            <td> @painting.Year</td>
                            <td>@painting.Medium</td>
                            <td>@painting?.Size_x</td>
                            <td>@painting?.Size_y</td>
                            <td>@painting.Description</td>
                            <td>@painting?.Painter?.LastName @painting?.Painter?.FirstName</td>
                            <td>
                                @foreach (var art in painting.ArtMovements)
                                {
                                <p>@art.Name</p> 
                                }
                            </td>
                        </tr>

                    }
                </tbody>
            </table>

        }
        else
        {
            <p>В таблице нет картин</p>
        }
    </form>
</div>
